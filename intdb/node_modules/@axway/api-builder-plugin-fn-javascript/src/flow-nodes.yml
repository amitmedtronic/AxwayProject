flow-nodes:
  javascript:
    name: JavaScript
    icon: ../icon.svg
    description: Execute JavaScript code.
    category: core
    methods:
      Execute:
        name: Execute
        description: Executes JavaScript code.
        parameters:
          data:
            name: Data
            description: The value to apply as the `data` argument of the JavaScript code. For objects and arrays, `data` is passed by reference.
            required: false
            schema: {}
          code:
            name: Code
            description: 'A JavaScript function body. Supports `await` and returning promises. `data` is the value of the Data parameter. `logger` is the API Builder logger. See the docs for more info: https://docs.axway.com/bundle/api-builder/page/docs/developer_guide/flows/flow_nodes/javascript_flow_node/index.html'
            required: true
            initialType: string
            multilineWrapper:
              before: "async function code(data, logger) {\n  "
              after: "\n}"
            schema:
              type: string
              format: javascript
        # "Next" (next) output
        returns:
          name: Next
          description: The value that the function returned or was resolved with.
          context: $.result
          schema: {}
        # "Error" (error) output
        throws:
          name: Error
          description: The error that the function threw or was rejected with.
          context: $.error
          schema: {}
