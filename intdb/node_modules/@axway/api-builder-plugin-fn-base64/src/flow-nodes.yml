flow-nodes:
  base64:
    name: Base64
    icon: icon.svg
    description: Methods for base64 encoding and decoding data.
    category: core
    methods:
      encode:
        name: Encode
        description: Encodes data into a string using the base64 encoding scheme. If the data is a Buffer or a string, its bytes will be encoded as-is. Otherwise, the data will be first converted using JSON.stringify, and then encoded.
        parameters:
          data:
            name: Data
            description: The data to encode.
            required: true
            schema:
              oneOf:
                - type: number
                - type: boolean
                - type: string
                - type: object
        # "Next" (next) output
        returns:
          name: Next
          description: The base64 encoded data.
          context: $.b64data
          schema:
            type: string
        # "Error" (error) output
        throws:
          name: Error
          description: An unexpected error was encountered.
          context: $.error
          schema:
            type: object
            properties:
              message:
                type: string
      decode:
        name: Decode
        description: Decodes a base64 encoded string into the provided format (see "Decode data as" parameter).
        parameters:
          data:
            name: Data
            description: The base64 encoded string.
            required: true
            schema:
              type: string
              format: multiline
          as:
            name: Decode data as
            description: If "buffer", data will be returned as a Buffer. If "string", data will be converted to utf-8 String. If "number", the data will be converted to a utf-8 string and then parsed as base 10 integer. If "boolean‚Äù, the data will be converted to a utf-8 string and if "false", "0", or empty string, the value is false (otherwise, true). If "object", the value is converted to a utf-8 string and parsed using JSON.parse.
            required: false
            initialType: string
            schema:
              type: string
              enum:
                - boolean
                - buffer
                - number
                - object
                - string
              default: buffer
        # "Next" (next) output
        returns:
          name: Next
          description: The decoded data.
          context: $.decoded
          schema:
            oneOf:
              - type: number
              - type: boolean
              - type: string
              - type: object
        # "Error" (error) output
        throws:
          name: Error
          description: An unexpected error was encountered.
          context: $.error
          schema:
            type: object
            properties:
              message:
                type: string
